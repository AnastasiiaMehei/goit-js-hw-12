{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\nexport async function fetchImages(query) {\n  const url = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '42924833-4b721b8caf67a58fd43475ecb',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const res = await axios.get(url, { params });\n  return res.data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from '../main';\n\nexport async function renderImages(data) {\n  refs.ulEl.innerHTML = '';\n  console.log(data);\n  const images = data.hits;\n  // console.log(data.hits);\n  if (images.length == 0) {\n    iziToast.error({\n      title: 'Error',\n      message: `Error: No such pictures!`,\n      position: 'topRight',\n    });\n  }\n\n  refs.ulEl.insertAdjacentHTML('beforeend', createGalleryMarkup(images));\n  const galleryCfg = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n  let lightbox = new SimpleLightbox('.gallery a', galleryCfg);\n  lightbox.on('show.simplelightbox', function () {});\n  lightbox.refresh();\n}\n\nfunction createGalleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img       \n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n        <ul class=\"img-description\"><li class><h3>Likes</h3><p>${likes}</p><li/>\n        <li><h3>Views</h3><p>${views}</p><li/>\n        <li><h3>Comments</h3><p>${comments}</p><li/>  \n        <li><h3>Downloads</h3><p>${downloads}</p><li/></ul>\n      </a>\n    </li>\n     \n  `\n    )\n    .join('');\n}\n// container.insertAdjacentHTML('beforeend', createGalleryMarkup(images));\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from '../src/js/pixabay-api';\nimport { renderImages } from './js/render-function';\nexport const refs = {\n  formEl: document.querySelector('form'),\n  formCont: document.querySelector('form-container'),\n  inputEl: document.querySelector('input.form-control'),\n  ulEl: document.querySelector('ul.gallery'),\n};\nexport let query = '';\nrefs.inputEl.addEventListener('input', e => {\n  e.preventDefault();\n  query = refs.inputEl.value.trim();\n  refs.ulEl.innerHTML = '';\n});\nconst fetchUsersBtn = document.querySelector('.btn');\nfetchUsersBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (query) {\n    refs.ulEl.innerHTML = '<div class=\"loader\"></div>';\n    fetchImages(query)\n      .then(data => renderImages(data))\n      .catch(error => {\n        console.log(error);\n        iziToast.error({\n          title: 'Error',\n          backgroundColor: 'red',\n          position: 'topRight',\n          message:\n            'Please Sorry, there are no images matching your search query. Please try again! again!',\n        });\n      });\n  }\n});\n"],"names":["fetchImages","query","url","params","axios","renderImages","data","refs","images","iziToast","createGalleryMarkup","galleryCfg","lightbox","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e","fetchUsersBtn","error"],"mappings":"owBAKO,eAAeA,EAAYC,EAAO,CACvC,MAAMC,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OADY,MAAMG,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAChC,IACb,CCVO,eAAeE,EAAaC,EAAM,CACvCC,EAAK,KAAK,UAAY,GACtB,QAAQ,IAAID,CAAI,EAChB,MAAME,EAASF,EAAK,KAEhBE,EAAO,QAAU,GACnBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,EAGHF,EAAK,KAAK,mBAAmB,YAAaG,EAAoBF,CAAM,CAAC,EACrE,MAAMG,EAAa,CACjB,aAAc,MACd,aAAc,GAClB,EACE,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CAClB,CAEA,SAASF,EAAoBF,EAAQ,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAM,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA,iEAE4CC,CAAK;AAAA,+BACvCC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKvC,EACA,KAAK,EAAE,CACZ,CCpDO,MAAMb,EAAO,CAClB,OAAQ,SAAS,cAAc,MAAM,EACrC,SAAU,SAAS,cAAc,gBAAgB,EACjD,QAAS,SAAS,cAAc,oBAAoB,EACpD,KAAM,SAAS,cAAc,YAAY,CAC3C,EACO,IAAIN,EAAQ,GACnBM,EAAK,QAAQ,iBAAiB,QAASc,GAAK,CAC1CA,EAAE,eAAc,EAChBpB,EAAQM,EAAK,QAAQ,MAAM,KAAI,EAC/BA,EAAK,KAAK,UAAY,EACxB,CAAC,EACD,MAAMe,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,iBAAiB,QAASD,GAAK,CAC3CA,EAAE,eAAc,EACZpB,IACFM,EAAK,KAAK,UAAY,6BACtBP,EAAYC,CAAK,EACd,KAAKK,GAAQD,EAAaC,CAAI,CAAC,EAC/B,MAAMiB,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBd,EAAS,MAAM,CACb,MAAO,QACP,gBAAiB,MACjB,SAAU,WACV,QACE,wFACZ,CAAS,CACT,CAAO,EAEP,CAAC"}